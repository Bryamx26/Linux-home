<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Convertisseur YouTube en MP3</title>
  <link rel="stylesheet" href="styles.css?var=2">
</head>
<body>
    <div id="matrix"></div>

    <main>
    <div id="convertiseur">
        <h1 id ="text"></h1>
        <input
        type="text"
        id="videoUrl"
        placeholder="Colle un lien YouTube ici"
        autocomplete="off"
        
        />
        <button
        onclick="convertir()"
        >
        Convertir & Télécharger
        </button>

        <div id="message" ></div>
        <div id="loading" >Chargement...</div>
    </div>

    <footer >
        Ce site est à des fins éducatives. De plus, il ne doit pas être mis en ligne sur Internet.
    </footer>

    <script src="music_s.js" async></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script>
    $(() => {
  
        const text = "Convertisseur video => mp3";
let index = 0;
const delay = 50; // temps entre chaque lettre (en ms)
const cursorBlinkDelay = 0; // vitesse de clignotement du curseur (en ms)

function clignoterCurseur(callback) {
    // Enlever le curseur
    $("#text").html($("#text").html().replace('|', ''));
    
    setTimeout(function() {
        // Remettre le curseur
        $("#text").append('|');
        
        setTimeout(function() {
            // Enlever à nouveau le curseur
            $("#text").html($("#text").html().replace('|', ''));
            
            setTimeout(callback, cursorBlinkDelay / 3);
        }, cursorBlinkDelay);
    }, cursorBlinkDelay);
}

function afficherLettre() {
    if (index < text.length) {
        // Faire clignoter le curseur avant d'ajouter la lettre
        clignoterCurseur(function() {
            // Ajouter la lettre suivante
            $("#text").append(text[index]);
            
            // Remettre le curseur
            $("#text").append('|');
            
            index++;
            setTimeout(afficherLettre, delay);
        });
    } else {
        // Une fois le texte terminé, enlever le curseur définitivement
        setTimeout(function() {
            $("#text").html($("#text").html().replace('|', ''));
        }, delay);
    }
}

// Lancer l'effet après que le DOM soit prêt
$(document).ready(function () {
    $('#text').css("text-align", "center");
    
    // Commencer avec juste le curseur
    $("#text").html('|');
    
    // Démarrer l'animation après un court délai
    setTimeout(afficherLettre, delay);
});

});
       
    </script>
    </main>
</body>
</html>
